<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Настройки</title>
    <style>
        body {
            color: var(--tg-theme-text-color);
            background: var(--tg-theme-bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 15px;
        }

        button {
            background: White;
            color: Black;
            border: none;
            font-size: 15px;
            padding: 10px 20px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Параметры:</h1>
    <div id="params"></div>
    <button id="saveButton">Сохранить настройки</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // Получаем параметры из URL
        const urlParams = new URLSearchParams(window.location.search);
        const paramsDiv = document.getElementById('params');

        // Выводим параметры на экран
        urlParams.forEach((value, key) => {
            const paramText = document.createElement('p');
            paramText.textContent = `${key}: ${value}`;
            paramsDiv.appendChild(paramText);
        });

        // Обработчик нажатия на кнопку сохранения
        document.getElementById('saveButton').addEventListener('click', () => {
            const data = 'Пример данных для сохранения';
            tg.sendData(data); // Отправляем данные в Telegram
            tg.close(); // Закрываем веб-приложение
        });
    </script>
</body>
</html>
